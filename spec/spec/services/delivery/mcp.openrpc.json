{
  "openrpc": "1.3.2",
  "info": {
    "title": "UCP Delivery Service",
    "version": "2026-01-19",
    "description": "Canonical MCP/JSON-RPC interface for UCP Delivery service. Schema references are logical pointers - actual payload shape is determined by negotiated capabilities.\n\n**Endpoint Resolution:** This spec defines methods only. The endpoint URL MUST be obtained from the merchant's discovery profile at `/.well-known/ucp` under `services[\"xyz.localprotocol.delivery\"].mcp.endpoint`. The server entry below is a placeholder for tooling compatibility."
  },
  "servers": [
    {
      "name": "merchant",
      "url": "{endpoint}",
      "description": "Merchant-provided endpoint from UCP discovery profile",
      "variables": {
        "endpoint": {
          "default": "https://merchant.example.com/ucp/mcp",
          "description": "Obtain from /.well-known/ucp â†’ services[\"xyz.localprotocol.delivery\"].mcp.endpoint"
        }
      }
    }
  ],
  "methods": [
    {
      "name": "create_delivery_quote",
      "summary": "Create a delivery quote",
      "params": [
        {
          "name": "request",
          "required": true,
          "schema": { "$ref": "https://xyz.localprotocol/schemas/delivery/types/delivery_quote_request.json" }
        }
      ],
      "result": {
        "name": "quote",
        "schema": { "$ref": "https://xyz.localprotocol/schemas/delivery/types/delivery_quote_response.json" }
      }
    },
    {
      "name": "create_delivery",
      "summary": "Create a delivery",
      "params": [
        {
          "name": "request",
          "required": true,
          "schema": { "$ref": "https://xyz.localprotocol/schemas/delivery/types/delivery_request.json" }
        }
      ],
      "result": {
        "name": "delivery",
        "schema": { "$ref": "https://xyz.localprotocol/schemas/delivery/types/delivery.json" }
      }
    },
    {
      "name": "list_deliveries",
      "summary": "List deliveries",
      "params": [
        {
          "name": "status",
          "required": false,
          "schema": {
            "type": "string",
            "enum": ["pending", "in_progress", "completed", "canceled", "failed"]
          }
        },
        {
          "name": "limit",
          "required": false,
          "schema": { "type": "integer", "minimum": 1 }
        },
        {
          "name": "cursor",
          "required": false,
          "schema": { "type": "string" }
        }
      ],
      "result": {
        "name": "response",
        "schema": { "$ref": "https://xyz.localprotocol/schemas/delivery/types/delivery_list_response.json" }
      }
    },
    {
      "name": "get_delivery",
      "summary": "Get delivery",
      "params": [
        {
          "name": "id",
          "required": true,
          "schema": { "type": "string" }
        }
      ],
      "result": {
        "name": "delivery",
        "schema": { "$ref": "https://xyz.localprotocol/schemas/delivery/types/delivery.json" }
      }
    },
    {
      "name": "update_delivery",
      "summary": "Update delivery",
      "params": [
        {
          "name": "id",
          "required": true,
          "schema": { "type": "string" }
        },
        {
          "name": "request",
          "required": true,
          "schema": { "$ref": "https://xyz.localprotocol/schemas/delivery/types/delivery_update_request.json" }
        }
      ],
      "result": {
        "name": "delivery",
        "schema": { "$ref": "https://xyz.localprotocol/schemas/delivery/types/delivery.json" }
      }
    },
    {
      "name": "cancel_delivery",
      "summary": "Cancel delivery",
      "params": [
        {
          "name": "id",
          "required": true,
          "schema": { "type": "string" }
        }
      ],
      "result": {
        "name": "delivery",
        "schema": { "$ref": "https://xyz.localprotocol/schemas/delivery/types/delivery.json" }
      }
    }
  ]
}
